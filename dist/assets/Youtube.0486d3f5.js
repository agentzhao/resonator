import{d as h,r as f,c as g,a as t,w as p,v as _,b as c,o as x,N as v,e as b}from"./index.cd539bea.js";import{a as l}from"./index.2bd8ddc8.js";const y={class:"flex flex-col justify-center items-center mx-auto w-2/3"},w=t("h1",{class:"my-10 text-3xl text-white"},"Youtube",-1),k=t("p",{class:"text-white"},"Enter song name:",-1),C={class:"flex flex-col"},N={class:"flex flex-col items-center mt-10 justify-centre"},S=t("p",{class:"text-white"},"Receivers Connected:",-1),z=t("ol",null,null,-1),O=h({__name:"Youtube",setup(B){const s=f("");let a;function i(){console.log(a)}function r(){l.get("http://sock.agentzhao.me/clients").then(e=>{a={...e.data}}).catch(e=>{console.log(e)})}const n=new WebSocket("wss://sock.agentzhao.me");n.addEventListener("open",function(e){console.log("Connected to WS Server")}),n.addEventListener("message",e=>{console.log("Message from server:",e.data);try{JSON.parse(e.data)}catch{console.log("error")}});const d=()=>{l.get("https://sock.agentzhao.me/searchyoutube?q="+s.value).then(e=>{console.log(e.data);var o={platform:"youtube",songUrl:e.data};console.log("sending this out: "+JSON.stringify(o)),n.send(JSON.stringify(o))}).catch(e=>{console.log(e)})};return(e,o)=>{const u=b("font-awesome-icon");return x(),g("div",y,[w,k,t("div",C,[p(t("input",{"onUpdate:modelValue":o[0]||(o[0]=m=>s.value=m),class:"py-2 px-4 my-2 mr-2 bg-white rounded-md text-zinc-800",type:"text",placeholder:"Song name"},null,512),[[_,s.value]]),t("button",{class:"bg-white rounded-md text-zinc-800",type:"submit",onClick:d}," Send ")]),t("div",N,[S,z,t("button",{type:"submit",onClick:r},[c(u,{class:"h-7 hover:text-gray-300 icons",icon:"fa-solid fa-rotate"})]),t("button",{class:"text-white",type:"submit",onClick:i}," clients ")]),c(v)])}}});export{O as default};
