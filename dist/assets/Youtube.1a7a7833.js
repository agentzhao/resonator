import{d as f,r,c,a as t,w as g,v as x,F as _,b as v,e as d,o as l,t as y,N as b,f as w}from"./index.e8636834.js";import{a as u}from"./index.2bd8ddc8.js";const S={class:"flex flex-col justify-center items-center mx-auto w-2/3"},k=t("h1",{class:"my-10 text-3xl text-white"},"Youtube",-1),N=t("p",{class:"text-white"},"Enter song name:",-1),C={class:"flex flex-col"},z={class:"flex flex-col items-center mt-10 justify-centre"},B=t("p",{class:"text-white"},"Receivers Connected:",-1),E={class:"text-sm text-white"},V=f({__name:"Youtube",setup(J){const s=r(""),i=r(null),n=new WebSocket("wss://sock.agentzhao.me");n.addEventListener("open",function(e){console.log("Connected to WS Server")}),n.addEventListener("message",e=>{console.log("Message from server:",e.data);try{JSON.parse(e.data)}catch{console.log("error")}});const m=()=>{u.get("https://sock.agentzhao.me/searchyoutube?q="+s.value).then(e=>{console.log(e.data);var o={platform:"youtube",songUrl:e.data};console.log("sending this out: "+JSON.stringify(o)),n.send(JSON.stringify(o))}).catch(e=>{console.log(e)})};function h(){u.get("https://sock.agentzhao.me/clients").then(e=>{i.value=e.data}).catch(e=>{console.log(e)})}return(e,o)=>{const p=w("font-awesome-icon");return l(),c("div",S,[k,N,t("div",C,[g(t("input",{"onUpdate:modelValue":o[0]||(o[0]=a=>s.value=a),class:"py-2 px-4 my-2 mr-2 bg-white rounded-md text-zinc-800",type:"text",placeholder:"Song name"},null,512),[[x,s.value]]),t("div",{class:"mx-auto"},[t("button",{class:"py-1 px-3 mt-2 bg-white rounded-md text-zinc-800",type:"submit",onClick:m}," Send ")])]),t("div",z,[B,t("ol",null,[(l(!0),c(_,null,v(i.value,a=>(l(),c("li",E,y(a.ip),1))),256))]),t("button",{type:"submit",onClick:h},[d(p,{class:"h-7 hover:text-gray-300 icons",icon:"fa-solid fa-rotate"})])]),d(b)])}}});export{V as default};
