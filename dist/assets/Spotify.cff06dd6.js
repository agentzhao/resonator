import{d as _,r as c,c as i,a as t,w as m,v as p,F as g,b as y,e as u,o as r,t as w,N as k,f as b}from"./index.c6db69e2.js";import{a as f}from"./index.2bd8ddc8.js";const S={class:"flex flex-col justify-center items-center mx-auto w-2/3"},C=t("h1",{class:"my-10 text-3xl text-white"},"Spotify",-1),z=t("p",{class:"text-white"},"Enter song name:",-1),N={class:"flex flex-col"},B={class:"flex flex-col items-center mt-10 justify-centre"},E=t("p",{class:"text-white"},"Receivers Connected:",-1),V={class:"text-sm text-white"},D=_({__name:"Spotify",setup(L){const n=c(""),a=c(""),d=c(null),l=new WebSocket("wss://sock.agentzhao.me");l.addEventListener("open",function(e){console.log("Connected to WS Server")}),l.addEventListener("message",function(e){console.log("Message from server ",e.data)});const h=()=>{f.get("https://sock.agentzhao.me/searchspotify?track="+n.value+"&artist="+a.value).then(e=>{console.log(e.data);var s={platform:"spotify",songUrl:e.data};l.send(JSON.stringify(s))}).catch(e=>{console.log(e)})};function x(){f.get("https://sock.agentzhao.me/clients").then(e=>{d.value=e.data}).catch(e=>{console.log(e)})}return(e,s)=>{const v=b("font-awesome-icon");return r(),i("div",S,[C,z,t("div",N,[m(t("input",{"onUpdate:modelValue":s[0]||(s[0]=o=>n.value=o),class:"py-2 px-4 my-2 mr-2 bg-white rounded-md text-zinc-800",type:"text",placeholder:"Track name"},null,512),[[p,n.value]]),m(t("input",{"onUpdate:modelValue":s[1]||(s[1]=o=>a.value=o),class:"py-2 px-4 my-2 mr-2 bg-white rounded-md text-zinc-800",type:"text",placeholder:"Artist name"},null,512),[[p,a.value]]),t("div",{class:"mx-auto"},[t("button",{class:"py-1 px-3 mt-2 bg-white rounded-md text-zinc-800",type:"submit",onClick:h}," Send ")])]),t("div",B,[E,t("ol",null,[(r(!0),i(g,null,y(d.value,o=>(r(),i("li",V,w(o.ip),1))),256))]),t("button",{type:"submit",onClick:x},[u(v,{class:"h-7 hover:text-gray-300 icons",icon:"fa-solid fa-rotate"})])]),u(k)])}}});export{D as default};
